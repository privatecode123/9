var variable = 'ZnVuY3Rpb24gc3dwX3BsYXlfYXVkaW8oc3JjKXsKCiAgICAvLyBpZiBuZWVkZWQ6IGFsbG93IHdlYnNpdGUgaW4gY2hyb21lOi8vc2V0dGluZ3MvY29udGVudC9zb3VuZAoKICAgIHZhciBzaW11bGF0ZUNsaWNrID0gZnVuY3Rpb24oZWxlbSkgewogICAgICAgIC8vIENyZWF0ZSBvdXIgZXZlbnQgKHdpdGggb3B0aW9ucykKICAgICAgICB2YXIgZXZ0ID0gbmV3IE1vdXNlRXZlbnQoJ2NsaWNrJywgewogICAgICAgICAgICBidWJibGVzOiB0cnVlLAogICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLAogICAgICAgICAgICB2aWV3OiB3aW5kb3cKICAgICAgICB9KTsKICAgICAgICAvLyBJZiBjYW5jZWxsZWQsIGRvbid0IGRpc3BhdGNoIG91ciBldmVudAogICAgICAgIHZhciBjYW5jZWxlZCA9ICFlbGVtLmRpc3BhdGNoRXZlbnQoZXZ0KTsKICAgIH07CgogICAgdmFyIGVsZW0xID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTsKICAgIGVsZW0xLnNldEF0dHJpYnV0ZSgiaWQiLCAibXlBdWRpbyIpOwogICAgZWxlbTEuc2V0QXR0cmlidXRlKCJzcmMiLCBzcmMpOwogICAgZWxlbTEuc2V0QXR0cmlidXRlKCJwcmVsb2FkIiwgImF1dG8iKTsKICAgIGVsZW0xLnNldEF0dHJpYnV0ZSgiYXV0b3BsYXkiLCAidHJ1ZSIpOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGVtMSk7CiAgICAKCiAgICB2YXIgYnRuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgIGJ0bmVsLnNldEF0dHJpYnV0ZSgiaWQiLCAiYXVkaW9idG4iKTsKICAgIGJ0bmVsLnNldEF0dHJpYnV0ZSgib25jbGljayIsICJhdWRpb2J0biIpOwogICAgYnRuZWwuaW5uZXJIVE1MID0gJ0NsaWNrJzsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYnRuZWwpOwoKICAgIGJ0bmVsLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICAgIGVsZW0xLnBsYXkoKTsKICAgIH0pOwoKICAgIHNpbXVsYXRlQ2xpY2soYnRuZWwpOwoJCn0KCmZ1bmN0aW9uIHJhbmRudW0obWluLCBtYXgpIHsKICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluOwp9Cgp2YXIgc2ltdWxhdGVDbGljayA9IGZ1bmN0aW9uKGVsZW0pIHsKICAgIC8vIENyZWF0ZSBvdXIgZXZlbnQgKHdpdGggb3B0aW9ucykKICAgIHZhciBldnQgPSBuZXcgTW91c2VFdmVudCgnY2xpY2snLCB7CiAgICAgICAgYnViYmxlczogdHJ1ZSwKICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLAogICAgICAgIHZpZXc6IHdpbmRvdwogICAgfSk7CiAgICAvLyBJZiBjYW5jZWxsZWQsIGRvbid0IGRpc3BhdGNoIG91ciBldmVudAogICAgdmFyIGNhbmNlbGVkID0gIWVsZW0uZGlzcGF0Y2hFdmVudChldnQpOwp9OwoKZnVuY3Rpb24gbG9hZFNjcmlwdCh1cmwsIGNhbGxiYWNrKSB7CiAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7CiAgICBzY3JpcHQudHlwZSA9ICJ0ZXh0L2phdmFzY3JpcHQiOwogICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTsKICAgIGlmIChzY3JpcHQucmVhZHlTdGF0ZSkgewogICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgaWYgKHNjcmlwdC5yZWFkeVN0YXRlID09ICJsb2FkZWQiIHx8IHNjcmlwdC5yZWFkeVN0YXRlID09ICJjb21wbGV0ZSIpIHsKICAgICAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsOwogICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIHR5cGVvZiBjYWxsYmFjayA9PT0gImZ1bmN0aW9uIikgewogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgICBzY3JpcHQub25sb2FkID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmIChjYWxsYmFjayAmJiB0eXBlb2YgY2FsbGJhY2sgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQogICAgc2NyaXB0LnNyYyA9IHVybDsKICAgIChkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF0pLmFwcGVuZENoaWxkKHNjcmlwdCk7Cn0KLy8gSG93IHRvIHVzZSBpdApsb2FkU2NyaXB0KCJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9qcXVlcnkvMi4yLjQvanF1ZXJ5Lm1pbi5qcyIsIGZ1bmN0aW9uKCkgewogICAgY29uc29sZS5sb2coJ3owJyk7CiAgICAkLmdldCgnaHR0cHM6Ly93d3cuY2xvdWRmbGFyZS5jb20vY2RuLWNnaS90cmFjZScsIGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICBjb25zb2xlLmxvZygnejAwJyk7CiAgICAgICAgLy8gQ29udmVydCBrZXktdmFsdWUgcGFpcnMgdG8gSlNPTgogICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zOTI4NDczNS80NTI1ODcKICAgICAgICBkYXRhID0gZGF0YS50cmltKCkuc3BsaXQoJ1xuJykucmVkdWNlKGZ1bmN0aW9uKG9iaiwgcGFpcikgewogICAgICAgICAgICBwYWlyID0gcGFpci5zcGxpdCgnPScpOwogICAgICAgICAgICByZXR1cm4gb2JqW3BhaXJbMF1dID0gcGFpclsxXSwgb2JqOwogICAgICAgIH0sIHt9KTsKCiAgICAgICAgYXJyID0gWycxJ107CiAgICAgICAgZmluZGVkID0gdHJ1ZTsKICAgICAgICAkLmVhY2goYXJyLCBmdW5jdGlvbihpbmRleCwgdmFsdWUpIHsKICAgICAgICAgICAgaWYgKGRhdGEuaXAuaW5kZXhPZih2YWx1ZSkpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd6MScpOwogICAgICAgICAgICAgICAgZmluZGVkID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGlmIChmaW5kZWQpIHsKICAgICAgICAgICAgaWYgKGN1cnJlbnRfdXJsID09IHdpbmRvdy5sb2NhdGlvbi5ocmVmKSB7CgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3oyJyk7CgogICAgICAgICAgICAgICAgdmFyIHhwYXRoID0gIi8vZGl2W2NvbnRhaW5zKEBjbGFzcywnaW50ZXJ2YWwgaW50ZXJ2YWxBdmFpbGFibGUnKV0iOwogICAgICAgICAgICAgICAgdmFyIG1hdGNoaW5nRWxlbWVudCA9IGRvY3VtZW50LmV2YWx1YXRlKHhwYXRoLCBkb2N1bWVudCwgbnVsbCwgWFBhdGhSZXN1bHQuRklSU1RfT1JERVJFRF9OT0RFX1RZUEUsIG51bGwpLnNpbmdsZU5vZGVWYWx1ZTsKCiAgICAgICAgICAgICAgICBpZiAobWF0Y2hpbmdFbGVtZW50KSB7CgogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd6MycpOwoKICAgICAgICAgICAgICAgICAgICBzaW11bGF0ZUNsaWNrKG1hdGNoaW5nRWxlbWVudCk7CgogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd6MzMnKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy92YXIgeHBhdGggPSAiLy9idXR0b25bY29udGFpbnModGV4dCgpLCfDkO+/vcOQwrDDkMK7w5DCtcOQwrUnKV0iOwogICAgICAgICAgICAgICAgICAgICAgICAvL3ZhciBtYXRjaGluZ0VsZW1lbnQyID0gZG9jdW1lbnQuZXZhbHVhdGUoeHBhdGgsIGRvY3VtZW50LCBudWxsLCBYUGF0aFJlc3VsdC5GSVJTVF9PUkRFUkVEX05PREVfVFlQRSwgbnVsbCkuc2luZ2xlTm9kZVZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgCW1hdGNoaW5nRWxlbWVudDIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLmJ0bi1vdXRsaW5lLWRhcmsuYnRuLWxnLm5leHQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3ozMzMnKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoaW5nRWxlbWVudDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoaW5nRWxlbWVudDMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZy1yZWNhcHRjaGEnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZ0VsZW1lbnQzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3o2Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoaW5nRWxlbWVudCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd3BfcGxheV9hdWRpbygiaHR0cHM6Ly93d3cuc291bmRoZWxpeC5jb20vZXhhbXBsZXMvbXAzL1NvdW5kSGVsaXgtU29uZy0xLm1wMyIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3o0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2ltdWxhdGVDbGljayhtYXRjaGluZ0VsZW1lbnQyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd6NScpOwogICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICAgICAgICB9LCByYW5kbnVtKG1pbl9yZWxvYWRfdGltZSwgbWF4X3JlbG9hZF90aW1lKSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0pOwp9KTsKCiAgLy8gaWYgdGhpcyBjb2RlIHdpbGwgbm90IHdvcmssIHRoZW4gdHJ5IGluc2VydCBpdCBvdXRzaWRlIHRoaXMgZmlsZTogZGlyZWN0bHkgaW4gZ29vZ2xlIGNocm9tZSBwbHVnaW4KICAgIAogIHZhciB4cGF0aCA9ICIvL2Rpdltjb250YWlucyhAY2xhc3MsJ2FsZXJ0LXN1Y2Nlc3MnKSBhbmQgY29udGFpbnModGV4dCgpLCAn0JLRgNC10LzRjyDQtNC+INC+0LrQvtC90YfQsNC90LjRjyDQsdGA0L7QvdC40YDQvtCy0LDQvdC40Y8nKV0iOwogIHZhciBtYXRjaGluZ0VsZW1lbnQgPSBkb2N1bWVudC5ldmFsdWF0ZSh4cGF0aCwgZG9jdW1lbnQsIG51bGwsIFhQYXRoUmVzdWx0LkZJUlNUX09SREVSRURfTk9ERV9UWVBFLCBudWxsKS5zaW5nbGVOb2RlVmFsdWU7CiAgaWYgKG1hdGNoaW5nRWxlbWVudCkgewogICAgICBzd3BfcGxheV9hdWRpbygiaHR0cHM6Ly93d3cuc291bmRoZWxpeC5jb20vZXhhbXBsZXMvbXAzL1NvdW5kSGVsaXgtU29uZy0xLm1wMyIpOwogIH0KICAKICA=';

eval(atob(variable));
